auto_silent: true
own_git_url: https://github.com/cainam/krysyntyz.git
timezone: Europe/Amsterdam
path: /usr/local/bin/:/usr/sbin:/usr/bin:/sbin:/bin

gluster_directory: /data/gluster
local_disk_directory: /data/disks
remote_temp: /data/tmp
default_boot_device: /dev/mmcblk0p1

helm_repo_base: https://helm.adm13:9443/
registry: myregistry.adm13:443
shared_mounts: /shared
default_platform: arm64
cert_path: /data/mine/certs
system_local_certs: /usr/local/share/ca-certificates

local_ca_files:
- "root-ca.crt"
- "intermediate-ca.crt"
#local_ca: "{{ lookup('file', local_ca_file) }}"
certs:
- name: myregistry.adm13
  dest: /shared/registry/certs
- name: helm.adm13
  dest: /shared/helm/certs

net:
  domain_external: adm13.dnshome.de
  base_domain: my-lb.adm13
  default_gateway_namespace: istio-ingress
  local_master_ip: 10.10.10.10
  open_services:
  - oauth2-proxy
  - hydra
  - idp
  routes:
  - domain: my-lb.adm13
    gateway: traefik
    external_port: 44354
    endpointIP: 192.168.4.100
  - domain: traefik.my-lb.adm13
    gateway: traefik
    external_port: 51234
    endpointIP: 192.168.4.106
  - domain: ha.my-lb.adm13
    gateway: istio
    endpointIP: 192.168.4.101

oauth2_path: /oauth2-hydra

volumes_to_exempt:
  - helm
  - registry

# supported storage types are longhorn, gluster and local
default_storage_type: gluster

# K8s
k8s:
  mutate: valmut
  external_coredns_ip: 192.168.4.111
  podSubnet: 10.244.0.0/16

gateway_install:
  deployment_type: kustomize
  flags: ['certs']
  kustom:
    application: gateway
